<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Document</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!------------------ import jquery ------------------> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <!------------------ import google chart ------------------> 
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

        <!------------------ Local Files ------------------> 
        <link rel="stylesheet" href="assets/css/styles.css">
        <script src="assets/javascript/main.js"></script>
        <script src="assets/javascript/analysis.js"></script>
    </head>
    <body onload="changePageTo('home'); addTopBar(); updateTotalBalance(); updateStatus(0)">
        <div class="screen_aspect_ratio">
            <div id="main" class="main">
                
            </div>
        </div>
    </body>
</html>


<!-- Pages -->
<div hidden>

    <!-- Home Page -->
    <div id=home onload="insertTopBarContent()">
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('analysis'); getAnalysis()" class="dialog-options">How am I doing?</div>
                <div onclick="changePageTo('budgets'); updateStatus(4)" class="dialog-options">I want to manage my budgets.</div>
                <div onclick="generateOptions(); changePageTo('add_expense'); updateStatus(1)" class="dialog-options">I want to add an expense.</div>
                <div onclick="changePageTo('add_income'); updateStatus(1)" class="dialog-options">I want to add an income.</div>
            </div>
        </div>
    </div>

    <!-- Add Income Page -->
    <div id=add_income>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <form class="budget-form">
                    <h1>Add Income</h1>
                    <label for="item">Description:</label>
                    <input type="text" id="item" placeholder="Enter Item description">
                    <br>
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" placeholder="Enter Item Amount">
                    <br>
                    <label for="date">Date:</label>
                    <input type="date" id="date">
                    <br>
                </form>
            </div>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('home'); updateStatus(2); resetTolerance()" class="dialog-options">I didn't mean that.</div>
                <div class="dialog-options">
                    <div onclick="addIncome()" class="add_income">Here you go.</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Expense Page -->
    <div id=add_expense>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <form class="budget-form">
                    <h1>Add Expense</h1>
                    <label for="item">Description:</label>
                    <input type="text" id="item" placeholder="Enter Item description">
                    <br>
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" placeholder="Enter Item Amount">
                    <br>
                    <label for="date">Date:</label>
                    <input type="date" id="date">
                    <br>
                    <label for="budget">Budget (optional):</label>
                        <select id="budget">
                            
                        </select>
                    <br>
                </form>
            </div>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('home'); updateStatus(2)" class="dialog-options">I didn't mean that.</div>
                <div class="dialog-options">
                    <div onclick="addExpense()" class="add_expense">Here you go.</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analysis Page -->
    <div id=analysis>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
            <div class="body">
                <div class="box">
                    <div class="typing"><!--Added by updateStatus()--></div>
                </div>
                <div class="budget-form-wrapper">
                    <div id="donutchart"></div>
                </div>
                <div class="dialog-options-wrapper">
                    <div onclick="changePageTo('home'); updateStatus(8)" class="dialog-options">I see.</div>
                    <div onclick="getOverbudget()" class="dialog-options" id="else">What else?</div>
                </div>
            </div>
    </div>

    <div id=analysis-over-budget>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
            <div class="body">
                <div class="box">
                    <div class="typing"><!--Added by updateStatus()--></div>
                </div>
                <div class="budget-form-wrapper">
                    <h1><!--Table name--></h1> 
                    <table>
                        <tr>
                            <th>item</th>
                            <th>amount</th>
                            <th>date</th>
                        </tr>
                        <!-- table contents loaded by function displayTable()-->
                    </table>
                </div>
                <div class="dialog-options-wrapper">
                    <div onclick="changePageTo('home'); updateStatus(8)" class="dialog-options">I see.</div>
                    <div onclick="getOverbudget()" class="dialog-options" id="else">What else?</div>
                </div>
            </div>
    </div>

    <!-- Budgets Page -->
    <div id=budgets>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"></div>
            </div>            
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('home'); updateStatus(2)" class="dialog-options">I didn't mean that.</div>
                <div onclick="changePageTo('modify-budget-list'); updateStatus(5)" class="dialog-options">I want to modify a budget.</div>
                <div onclick="changePageTo('remove-budget'); updateStatus(7)" class="dialog-options">I want to remove a budget.</div>
                <div onclick="changePageTo('add-budget'); updateStatus(1)" class="dialog-options">I want to add a new budget.</div>                
            </div>
        </div>
    </div>

    <!--Budget Sub Pages-->
    <div id=add-budget>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <form class="budget-form">
                    <h1>New Budget</h1>
                    <label for="budget_name">Budget Name:</label>
                    <input type="text" id="budget_name" placeholder="Enter budget name">
                    <br>
                    <label for="budget_amount">Amount:</label>
                    <input type="number" id="budget_amount" placeholder="Enter budget amount">
                    <br>
                    <label for="budget_amount">Occurs :</label>
                    <select name="interval" id="mod-budget-occurs">
                        <option value="weekly">weekly</option>
                        <option value="bi-weekly">bi-weekly</option>
                        <option value="monthly">monthly</option>
                        <option value="yearly">yearly</option>
                      </select>
                    <br>
                </form>
            </div>

            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('budgets'); updateStatus(2)" class="dialog-options">I didn't mean that.</div>
                <div onclick="addBudget(); updateStatus(3)" class="add_budget dialog-options">Here you go.</div>
            </div>
        </div>
    </div>

    <div id=remove-budget>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <div class="budget-form budget-list-remove"></div>
            </div>
            <script>all_budgets.printBudgetList('budget-list-remove');</script>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('budgets'); updateStatus(2)" class="dialog-options">I didn't mean that.</div>
                <div onclick="changePageTo('budgets'); all_budgets.updateBudgetList(); updateStatus(3)" class="dialog-options">Here you go</div>
            </div>
        </div>
    </div>

    <div id=modify-budget-list>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <div class="budget-form budget-list-modify"></div>
            </div>
            <script>all_budgets.printBudgetList('budget-list-modify');</script>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('budgets'); updateStatus(1)" class="dialog-options">I didn't mean that.</div>
            </div>
        </div>
    </div>

    <div id=modify-budget>
        <div class="top-bar"><!-- Gets added on <body> load --></div>
        <div class="body">
            <div class="box">
                <div class="typing"><!--Added by updateStatus()--></div>
            </div>
            <div class="budget-form-wrapper">
                <form class="budget-form">
                    <h1>Modify Budget</h1>
                    <label for="budget_name">Budget Name:</label>
                    <input type="text" id="mod-budget-name" placeholder="Enter budget name">
                    <br>
                    <label for="budget_amount">Amount:</label>
                    <input type="number" id="mod-budget-amount" placeholder="Enter budget amount">
                    <br>
                    <label for="budget_amount">Occurs :</label>
                    <select name="interval" id="mod-budget-occurs">
                        <option value="weekly">weekly</option>
                        <option value="bi-weekly">bi-weekly</option>
                        <option value="monthly">monthly</option>
                        <option value="yearly">yearly</option>
                      </select>
                    <br>
                </form>
            </div>
            <div class="dialog-options-wrapper">
                <div onclick="changePageTo('modify-budget-list'); updateStatus(2)" class="dialog-options">I didn't mean that.</div>
                <div onclick="all_budgets.updateModifiedBudgetItem(cur_index_pos); all_budgets.updateBudgetList(); updateStatus(3); changePageTo('budgets')" class="dialog-options">Here you go</div>
            </div>
        </div>
    </div>

    <!-- History Page -->
    <div id=history>
        <div class="tb-body">
            <button onclick="changePageTo('home')">home</button>
            <button onclick="changePageTo('income-history');displayTable(user_income);">income</button>
            <button onclick="changePageTo('expense-history');displayTable(user_expense);">expense</button>
        </div>
    </div>

    <!--History Sub Pages-->
    <div id=income-history>
        <div class="tb-body">
            <button onclick="changePageTo('home')">home</button>
            <button onclick="changePageTo('expense-history'); displayTable(user_expense);">expense</button>
            <table>
                <tr>
                    <th>item</th>
                    <th>amount</th>
                    <th>date</th>
                </tr>
                <!-- table contents loaded by function displayTable()-->
            </table>
        </div>
    </div>

    <div id=expense-history>
        <div class="tb-body">
            <button onclick="changePageTo('home')">home</button>
            <button onclick="changePageTo('income-history');displayTable(user_income);">income</button>
            <table>
                <tr>
                    <th>item</th>
                    <th>amount</th>
                    <th>date</th>
                    <th>budget</th>
                </tr>
                <!-- table contents loaded by function displayTable()-->
            </table>
        </div>
    </div>

    <!-- Settings Page -->
    <div id=settings>
        <div class="tb-body">
            <button onclick="changePageTo('home')">home</button>
            <div class="dropdown">
                <label for="currency">Currency :</label>
                <select name="currency" id="currency">
                    <option value="dollar">$</option>
                    <option value="euro">€</option>
                    <option value="yuan-yen">¥</option>
                    <option value="pound">£</option>
                    <option value="won">₩</option>
                  </select>
                  <button onclick="changeCurrency(); all_budgets.updateBudgetList()">apply</button>
                  <label for="currency" id="id_applied"></label>
                  <br>
                  <label for="detective_apperance">Change detective appearance to :</label>
                  <select name="detective_apperance" id="detective_apperance">
                    <option value="normal">normal</option>
                    <option value="chicken">chicken</option>
                    <option value="mask">mask</option>
                    <option value="shades">shades</option>
                  </select>
                  <button onclick="changeApperance()">apply</button>
                  <label for="detective_apperance" id="appearance_applied"></label>
            </div>
        </div>
    </div>

    <!-- Top Bar HTML Code-->
    <div id=top-bar>
        <div class="tb-child">
            <img src="assets/images/Balance.svg" class="image img-balance">
            <div class="text-block">
                <p class="total-balance"></p>
            </div>
        </div>
        <div class="tb-child float-down" style="margin-left: auto;">
            <img src="assets/images/History.svg" class="image img-history" onclick="changePageTo('history')">
        </div>
        <div class="tb-child float-down">
            <img src="assets/images/Settings.svg" class="image img-settings" onclick="changePageTo('settings')">
        </div>
    </div>
</div>